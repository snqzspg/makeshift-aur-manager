# Makeshift AUR manager
A homemade Arch User Repository (AUR) helper that facilitates the installation and updating of AUR packages. The functionality is similar to other AUR helpers like [yay](https://aur.archlinux.org/packages/yay) or [paru](https://aur.archlinux.org/packages/paru).
## Compatibility
This project is only designed to run on Arch Linux, only tested on x86_64 (or amd64). It is not compatible with other Linux distributions.
## Maintenance
Note that this package may not be maintained regularly as I am trying to get a life.
## Features
### 1 - Update packages
This is the primary reason for the creation of this tool. Personally I prefer to use manual method to install AUR packages, but it is quite difficult to ensure that all my AUR packages are up-to-date, so I made this tool.

To check for updates, you can simply run the application without any arguments, and it gives a list of updates available from AUR. Git and non-git packages gives separate updates, as the tool needs to fetch the git packages to generate the up-to-date versions. 

__NOTE__: The updates for git packages will be inaccurate until you run `./aur_man aur-fetchgit`.

To perform updates for non-git applications, first run `./aur_man aur-fetchupdates`, which will perform `git clone` for all the updates it detected. Then inspect all the package sources to ensure no malicious edits are inside, before applying the updates using `./aur_man aur-upgrade`, which builds and installs the packages.

For git packages, you should run `./aur_man aur-fetchgit` first, then inspect the packages, then run `./aur_man aur-installgit`.

__NOTE__: `./aur_man aur-fetchupdates`, `./aur_man aur-upgrade`, `./aur_man aur-fetchgit` and `./aur_man aur-upgradegit` have `--exclude package_name` option to exclude several packages from upgrading. This is not mentioned in the help page, which is still a work-in-progress.
### 2 - Install packages
The tool also allows one to install packages specified in the arguments. Just like for any AUR helpers, it is recommended to use the [manual build process](https://wiki.archlinux.org/title/Arch_User_Repository#Installing_and_upgrading_packages) (or at least get familiar with it) first.

To install, first run `./aur_man aur-fetch package_name ...`, then inspect the packages inside the `__pkg_cache__` folder, and then run `./aur_man aur-install pacakge_name ...` to install the packages.

Note that this tool does not have the capabilities to remove packages. To remove packages, use `sudo pacman -Rs package_name ...`.

### 3 - Bash completion
To enable completion, first source the file inside `completion/bash-completion.bash`. You should have some partial completions when running `./aur_man`.

## Planned Features
### 1 - Package files review and trust system
A system of reviewing source files fetched from AUR, and the ability to mark files as trusted.
### 2 - Diff viewing
When updating the system, the tool would provide diff from the trusted files for easier update verification.
### 3 - Dependencies resolution
A system to automatically install dependencies and resolve them. This one is a bit difficult.

## AUR Helpers
This project is not meant to be a fully featured AUR helper like yay. However, it is fun to see how this compares to the other helpers. Below is a table of certain features and this tool's provision. For reference, you can access [the comparison tables for other AUR helpers](https://wiki.archlinux.org/title/AUR_helpers#Comparison_tables).

| File review | Diff view | Git clone | Reliable parser | Reliable solver | Split packages | Unsafe flags | Shell completion |
| ----------- | --------- | --------- | --------------- | --------------- | -------------- | ------------ | ---------------- |
| Planned     | Planned   | Yes ✅     | Partial         | No ❎            | Partial        | --           | bash             |
## Compilation
Ensure that you have GCC installed. You also need the following dependencies installed:
 - curl
 - git
 - gzip
 - less
 - pacman (obviously)
 - zlib
The above list was made quite last-minute, so I may have missed some out.

Firstly, clone this git repository.
```
git clone https://github.com/snqzspg/makeshift-aur-manager.git
```
Then, change directory into the repository and run 
```
make
```
The build should not generate any errors or warnings, unless I missed out some dependencies..
change directory into the bin folder created after `make`.
```
cd bin
```
Here you can run 
```
./aur_man
```
to begin searching for updates.

Note that all files generated by the tool will be stored in a folder named `__pkg_cache__` in the same location as the `./aur_man` executable. You can delete the folder once `./aur_man` finished its operations.